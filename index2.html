<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>google map</title>
    <style>
 
    #map {
        height: 400px;
        width: 100%;
    }
    </style>
</head>

<body>
    <p>1. FIRST ALLOW YOUR LOCATION</p>
    <p>2. CLICK AGAIN TO DISPLAY THE MAP AND TRAILS AROUND YOU</p>
    
    <button onclick="getLocation()">CLICK</button>
    
    <p id="demo"></p>
    
    <h1>My Google Map</h1>
<div id="map"></div>

<script>
    var x = document.getElementById("demo");
    var Latitud;
    var Longitud;

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {
        x.innerHTML = "Latitude: " + position.coords.latitude +
            "<br>Longitude: " + position.coords.longitude;
        Latitud = position.coords.latitude;
        Longitud = position.coords.longitude;

                var options = {
            zoom: 8,
            //     center: { lat: 40.730610, lng: -73.935242}
            center: { lat: Latitud, lng: Longitud }
        }
        // new map
        var map = new google.maps.Map(document.getElementById('map'), options);
        var marker = new google.maps.Marker({
            position: { lat: Latitud, lng: Longitud },
            map: map,
            icon: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'

        });
        var infoWindow = new google.maps.InfoWindow({
            content: '<h1>HERE WE DISPLAY THE INFORMATION FROM THE TRAIL APIS</h1>'
        });

        marker.addListener('click', function () {
            infoWindow.open(map, marker);

        });

    }

    function initMap(){

        //map options
    }
    
    </script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKZ95YJGcmSmTi1q8vk3RDOQdoHFPD-78&callback=initMap">
    </script>
</body>
</html>